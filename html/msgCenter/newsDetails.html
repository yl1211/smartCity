<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../../layui/css/layui.css">
	<link rel="stylesheet" href="../../css/base.css">
	<link rel="stylesheet" href="../../css/newsDetails.css" />
	<title>资讯详情</title>
	<style>
		.w-e-toolbar,
		.w-e-text-container {
			border: none !important;
		}

		.newTitle {
			font-size: 1.2rem;
			font-weight: bold;
		}
	</style>
</head>

<body>
	<div class="layui-fluid">
		<div class="layui-row content">
			<div class="layui-row contentHeader">
				<h2 class="title">
					<a href="javascript:history.back(-1)" class="back">
						<i class="layui-icon layui-icon-left">
						</i>
						返回
					</a>
					资讯详情
				</h2>
			</div>
			<div class="layui-row contentBox" id="newsBox">
				<!-- 公告详情内容 -->
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../../js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="../../js/url.js"></script>
	<script type="text/javascript" src="../../js/getparameter.js"></script>
	<script type="text/javascript" src="../../layui/layui.js"></script>

	<script>
		//获取上级页面url后的参数
		$(document).ready(function () {
			var a = GetRequest();
			var id = a['id'];   //公告id
			console.log(id);
			// Detail(id);

			layui.use(['laytpl', 'layer'], function () {
				var laytpl = layui.laytpl;
				var layer = layui.layer;

				/*时间戳转换*/
				function timestampToTime(timestamp) {
					var date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
					Y = date.getFullYear() + '-';
					M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
					D = date.getDate() + ' ';
					return Y + M + D;
				}

				$.ajax({
					type: "post",
					url: globalurl + "/notice/getNoticeDetail",
					async: false,
					data: {
						id: id
					},
					success: function (result) {
						console.log(result)
						var detail = result.data;
						var newDetail =
							"<h2 class='newTitle'>" + detail.title + "</h2>" +
							"<p class='newsTime'>" + timestampToTime(detail.createTime) + "</p>" +
							"<div class='layui-row contentArticle '>" + detail.content + "</div>"
						$("#newsBox").append(newDetail)
					}
				})
			});
		})
	</script>
</body>

</html>